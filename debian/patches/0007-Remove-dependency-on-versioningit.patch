From: Alexis Murzeau <amubtdx@gmail.com>
Date: Mon, 2 May 2022 21:40:05 +0200
Subject: Remove dependency on versioningit

The version string is already generated in the distributed source
tarball.

Forwarded: not-needed
Author: Alexis Murzeau <amubtdx@gmail.com>
---
 dev-requirements.txt  | 1 -
 docs-requirements.txt | 3 +--
 pyproject.toml        | 1 -
 setup.cfg             | 1 +
 setup.py              | 2 --
 5 files changed, 2 insertions(+), 6 deletions(-)

diff --git a/dev-requirements.txt b/dev-requirements.txt
index 9f4dcd0..444c6d6 100644
--- a/dev-requirements.txt
+++ b/dev-requirements.txt
@@ -8,7 +8,6 @@ flake8
 flake8-import-order
 flake8-pyi
 shtab
-versioningit >=2.0.0, <3
 
 mypy
 lxml-stubs
diff --git a/docs-requirements.txt b/docs-requirements.txt
index e405591..35f1c02 100644
--- a/docs-requirements.txt
+++ b/docs-requirements.txt
@@ -1,6 +1,5 @@
 sphinx >=4.0.0
-furo ==2022.06.04.1
+sphinx-rtd-theme
 myst-parser >=0.18.0
-versioningit >=2.0.0, <3
 
 docutils-stubs
diff --git a/pyproject.toml b/pyproject.toml
index af631f9..e0a99d7 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -3,7 +3,6 @@ build-backend = "setuptools.build_meta"
 requires = [
   "setuptools >=45",
   "wheel",
-  "versioningit >=2.0.0, <3",
 ]
 
 
diff --git a/setup.cfg b/setup.cfg
index 6864633..d6c3c60 100644
--- a/setup.cfg
+++ b/setup.cfg
@@ -1,5 +1,6 @@
 [metadata]
 name = streamlink
+version = attr:streamlink.__version__
 author = Streamlink
 author_email = streamlink@protonmail.com
 description = Streamlink is a command-line utility that extracts streams from various services and pipes them into a video player of choice.
diff --git a/setup.py b/setup.py
index 04a7c5f..73a91bf 100644
--- a/setup.py
+++ b/setup.py
@@ -74,10 +74,8 @@ data_files = [
 
 if __name__ == "__main__":
     from setuptools import setup  # type: ignore[import]
-    from versioningit import get_cmdclasses
 
     setup(
-        cmdclass=get_cmdclasses(),
         entry_points=entry_points,
         data_files=data_files,
     )
