From: Alexis Murzeau <amubtdx@gmail.com>
Date: Mon, 2 May 2022 21:40:05 +0200
Subject: Remove dependency on versioningit

The version string is already generated in the distributed source
tarball.

Forwarded: not-needed
Author: Alexis Murzeau <amubtdx@gmail.com>
---
 dev-requirements.txt  | 1 -
 docs-requirements.txt | 1 -
 pyproject.toml        | 1 -
 setup.cfg             | 1 +
 setup.py              | 2 --
 5 files changed, 1 insertion(+), 5 deletions(-)

diff --git a/dev-requirements.txt b/dev-requirements.txt
index d0756e2..3804f21 100644
--- a/dev-requirements.txt
+++ b/dev-requirements.txt
@@ -7,7 +7,6 @@ mock ; python_version<"3.8"
 requests-mock
 freezegun>=1.0.0
 shtab
-versioningit >=2.0.0, <3
 
 ruff ==0.0.259
 
diff --git a/docs-requirements.txt b/docs-requirements.txt
index d6cf287..78e878d 100644
--- a/docs-requirements.txt
+++ b/docs-requirements.txt
@@ -2,6 +2,5 @@ sphinx >=5.0.0, <7
 furo ==2023.03.27
 myst-parser >=1.0.0, <2
 sphinx-design >=0.4.1, <1
-versioningit >=2.0.0, <3
 
 docutils-stubs
diff --git a/pyproject.toml b/pyproject.toml
index b06efc7..d8c32cb 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -3,7 +3,6 @@ build-backend = "setuptools.build_meta"
 requires = [
   "setuptools >=45",
   "wheel",
-  "versioningit >=2.0.0, <3",
 ]
 
 
diff --git a/setup.cfg b/setup.cfg
index 2504571..024ad36 100644
--- a/setup.cfg
+++ b/setup.cfg
@@ -1,5 +1,6 @@
 [metadata]
 name = streamlink
+version = attr:streamlink.__version__
 author = Streamlink
 author_email = streamlink@protonmail.com
 description = Streamlink is a command-line utility that extracts streams from various services and pipes them into a video player of choice.
diff --git a/setup.py b/setup.py
index 62ba06c..f552de7 100644
--- a/setup.py
+++ b/setup.py
@@ -74,10 +74,8 @@ data_files = [
 
 if __name__ == "__main__":
     from setuptools import setup  # type: ignore[import]
-    from versioningit import get_cmdclasses
 
     setup(
-        cmdclass=get_cmdclasses(),
         entry_points=entry_points,
         data_files=data_files,
     )
